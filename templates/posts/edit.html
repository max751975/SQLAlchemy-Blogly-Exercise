{% extends 'base.html' %}
{% block title %}Edit post{% endblock %}
{% block content %}
<h1>Edit {{ post.user.first_name}}'s post</h1>
<form action="" method = POST>
    <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" class="form-control" name="title" value = "{{ post.title}}" autofocus="autofocus" required>
    </div>
    <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <input type="text" class="form-control" name="content" value ="{{ post.content }}" required>
    </div>
    <h6>Add tags</h6>
    {% for t in tags %}    
        <div class="form-check">
            <input type="checkbox"
             class="form-check-input"
             value="{{ t.id }}" id="tag_{{ t.id }}"
             {% if t in post.tags %} checked
             {% endif %}
             name="tags">
            <label for="">{{ t.name }}</label>
        </div>
    {% endfor %}
    
    <button class="btn btn-success btn-sm mt-3">Confirm</button>
    <button class="btn btn-secondary btn-sm mt-3">Cancel</button>
    <button class="btn btn-danger btn-sm mt-3" formaction="/posts/{{ post.id }}/delete" formmethod="POST">Delete
    </button>
</form>

{% endblock %}